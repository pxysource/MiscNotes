# 1. 根据进程名称kill进程

根据进程名称，查找到进程的id，然后根据进程id`kill`进程。

参数：进程的名称。

使用：`./kill_process_by_name.sh program`。

`kill_process_by_name.sh`：

```shell
#!/bin/sh

log_err()  { echo "[ERR] $*" >&2; }
log_warn() { echo "[WARN] $*" >&2; }
log_info() { echo "[INFO] $*"; }

kill_process_by_name() {
    [ $# -eq 1 ] || {
        log_err "Usage: $0 <process_name>"
        return 1
    }

    prog="$1"
    PIDS=$(pidof "$prog")

    [ -n "$PIDS" ] || {
        log_err "Process '$prog' not found"
        return 1
    }

    log_info "Stopping '$prog' (PID: $PIDS)"
    kill $PDIS 2>/dev/null

    for i in 1 2 3; do
        sleep 1
        pidof "$prog" >/dev/null || {
            log_info "'$prog' stopped"
            return 0
        }
    done

    log_warn "'$prog' still running, sending SIGKILL"
    kill -9 $PIDS 2>/dev/null
}

kill_process_by_name $@
```
